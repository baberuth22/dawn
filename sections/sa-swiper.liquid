{% schema %}
{
  "name": "SA - Swiper Slider",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "My Swiper Slider"
    },
    {
      "type": "text",
      "id": "swiper_width",
      "label": "Swiper Width (px or %)",
      "default": "100%"
    },
    {
      "type": "text",
      "id": "swiper_height",
      "label": "Swiper Height (px)",
      "default": "400px"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "slide_image",
          "label": "Slide Image"
        },
        {
          "type": "textarea",
          "id": "slide_text",
          "label": "Slide Text Overlay",
          "default": "<h3>Slide Title</h3><p>This is the slide content.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SA - Swiper Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="swiper-slider-section page-width">
  <h2>{{ section.settings.section_title }}</h2>
  <div class="swiper-container" style="width: {{ section.settings.swiper_width }}; height: {{ section.settings.swiper_height }};">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
      <div class="swiper-slide">
        <img src="{{ block.settings.slide_image | img_url: 'master' }}" alt="Slide Image">
        <div class="slide-overlay">{{ block.settings.slide_text | raw }}</div>
      </div>
      {% endfor %}
    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination"></div>
    <!-- Add Navigation -->
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

<style>
.swiper-slider-section {
  text-align: center;
  padding: 20px;
}
.swiper-container {
  width: 100%;
  height: 100%;
}
.swiper-slide {
  position: relative;
}
.swiper-slide img {
  width: 100%;
  height: auto;
}
.slide-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  text-align: center;
  background: rgba(0, 0, 0, 0.5);
  padding: 10px;
}
.page-width {
  max-width: 1200px;
  margin: 0 auto;
}
</style>

<!-- Include SwiperJS CDN -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var swiper = new Swiper('.swiper-container', {
    slidesPerView: 1,
    spaceBetween: 10,
    loop: true,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
  });
});
</script>
