<style>
{% if section.settings.shake_type == "jiggle" %}
.ss-atc-button-style {
    animation: jiggle 4s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes jiggle {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    1% { transform: translate(-1px, -2px) rotate(-1deg); }
    2% { transform: translate(-3px, 0px) rotate(1deg); }
    3% { transform: translate(3px, 2px) rotate(0deg); }
    4% { transform: translate(1px, -1px) rotate(1deg); }
    5% { transform: translate(-1px, 2px) rotate(-1deg); }
    6% { transform: translate(-3px, 1px) rotate(0deg); }
    7% { transform: translate(0px, 0px) rotate(0deg); }
    100% { transform: translate(0px, 0px) rotate(0deg); }
}
{% elsif section.settings.shake_type == "horizontal" %}
.ss-atc-button-style {
    animation: horizontal 6s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes horizontal {
    0% { transform: translate(13px, 0px) rotate(0deg); }
    1% { transform: translate(-12px, -0px) rotate(0deg); }
    2% { transform: translate(-15px, 0px) rotate(0deg); }
    3% { transform: translate(15px, 0px) rotate(0deg); }
    4% { transform: translate(13px, -0px) rotate(0deg); }
    5% { transform: translate(-13px, 0px) rotate(0deg); }
    6% { transform: translate(-15px, 0px) rotate(0deg); }
    7% { transform: translate(0px, 0px) rotate(0deg); }
    100% { transform: translate(0px, 0px) rotate(0deg); }
}
{% elsif section.settings.shake_type == "shake" %}
.ss-atc-button-style {
    animation: shake 4s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes shake {
    0% { transform: translate(2px, 2px) rotate(0deg); }
    1% { transform: translate(-2px, -2px) rotate(0deg); }
    2% { transform: translate(-2px, 2px) rotate(0deg); }
    3% { transform: translate(2px, -2px) rotate(0deg); }
    100% { transform: translate(0px, 0px) rotate(0deg); }
}
{% elsif section.settings.shake_type == "bounce" %}
.ss-atc-button-style {
    animation: bounce 4s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes bounce {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}
{% elsif section.settings.shake_type == "spin" %}
.ss-atc-button-style {
    animation: spin 4s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
{% elsif section.settings.shake_type == "zoom" %}
.ss-atc-button-style {
    animation: zoom 4s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes zoom {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
{% else %}
.ss-atc-button-style {
    animation: default-animation 6s infinite {{ section.settings.animation_delay }}s; 
}
@keyframes default-animation {
    0% { transform: translate(13px, 0px) rotate(0deg); }
    1% { transform: translate(-12px, -0px) rotate(0deg); }
    2% { transform: translate(-15px, 0px) rotate(0deg); }
    3% { transform: translate(15px, 0px) rotate(0deg); }
    4% { transform: translate(13px, -0px) rotate(0deg); }
    5% { transform: translate(-13px, 0px) rotate(0deg); }
    6% { transform: translate(-15px, 0px) rotate(0deg); }
    7% { transform: translate(0px, 0px) rotate(0deg); }
    100% { transform: translate(0px, 0px) rotate(0deg); }
}
{% endif %}
</style>

<script>
window.addEventListener('DOMContentLoaded', (event) => {
    const selector = '{{ section.settings.query_selector | default: ".product-form__submit, .add-to-cart, .product-form__cart-submit, .button--addToCart" }}';
    const productForm = document.querySelector(selector);

    if (!productForm) {
        return;
    }

    productForm.classList.add("ss-atc-button-style");
});
</script>

{% schema %}
{
    "name": "SA - Element Animations",
    "class": "section",
    "tag": "section",
    "settings": [
        {
            "type": "paragraph",
            "content": "Att: Save settings to view updates"
        },
        {
            "type": "select",
            "id": "shake_type",
            "label": "Shake type",
            "options": [
                {
                    "value": "jiggle",
                    "label": "Jiggle"
                },
                {
                    "value": "horizontal",
                    "label": "Horizontal"
                },
                {
                    "value": "shake",
                    "label": "Shake"
                },
                {
                    "value": "bounce",
                    "label": "Bounce"
                },
                {
                    "value": "spin",
                    "label": "Spin"
                },
                {
                    "value": "zoom",
                    "label": "Zoom"
                }
            ],
            "default": "jiggle"
        },
        {
            "type": "text",
            "id": "query_selector",
            "label": "Query Selector",
            "default": ".product-form__submit, .add-to-cart, .product-form__cart-submit, .button--addToCart"
        },
        {
            "type": "number",
            "id": "animation_delay",
            "label": "Animation Delay (in seconds)",
            "default": 0
        }
    ],
    "presets": [
        {
            "name": "SA - Element Animations"
        }
    ]
}
{% endschema %}
{% stylesheet %}
{% endstylesheet %}
{% javascript %}
{% endjavascript %}
