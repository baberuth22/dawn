{% schema %}
{
  "name": "Shader Doodle Section",
  "settings": [
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default": "Shader Doodle"
    },
    {
      "type": "textarea",
      "id": "shader_script",
      "label": "Shader Script",
      "default": "void main() {\n  vec2 st = gl_FragCoord.xy / u_resolution.xy;\n  vec3 color = vec3(st.x, st.y, abs(sin(u_time)));\n  gl_FragColor = vec4(color, 1.0);\n}"
    }
  ],
  "presets": [
    {
      "name": "Shader Doodle",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="shader-doodle-section">
  <h2>{{ section.settings.section_title }}</h2>
  <shader-doodle>
    <script type="x-shader/x-fragment">
      {{ section.settings.shader_script | escape }}
    </script>
  </shader-doodle>
</div>

<style>
.shader-doodle-section {
  text-align: center;
  padding: 20px;
}

shader-doodle {
  width: 100%;
  height: 400px;
}
</style>

<script src="https://unpkg.com/shader-doodle@alpha"></script>